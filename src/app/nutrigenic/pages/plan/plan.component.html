<div id="layoutHome" class="web-center fm-rubik">
    <div class="mt-2 fw-bold fm-prompt" style="color: #0F0F1F;font-size: 1.429rem;" *ngIf="isTablet">Our 3 plans:</div>
    <div class="mt-2 fw-bold fm-prompt" style="color: #0F0F1F;font-size: 1.429rem;" *ngIf="isMobile">Our plans</div>
    <div class="mt-2" *ngIf="isMobile">
        <button *ngFor="let item of tabItems"
            [style.background-color]="selectedMasterTab === item ? '#dfdfef' : 'white'"
            (click)="selectedMasterTab = item" class="btn btn-primary mt-2 mx-2 categoriesButton">
            {{ item }}
        </button>
    </div>
    <div class="row justify-content-center mt-5"
        [style]="isDesktop ? 'width: 75%' : isTablet ? 'width: 95%' : 'width: 95%'">
        <div class="mb-3 position-relative" [class]="isDesktop ? 'col-md-4' : isTablet ? 'col-md-6' : ''"
            *ngIf="isDesktop || isTablet || (isMobile && selectedMasterTab === 'Flexi')">
            <div class="z-2 position-absolute" style="margin-left: 5%;width: 25%;">
                <button class="btn btn-primary mt-2 btn-plan p-1 w-100" style="font-size: 1.143rem;">To Start
                </button>
            </div>
            <div class="w-100 z-1 top-img-margin">
                <img class="w-100" src="../../../../assets/images/flexi-back-image.png" />
            </div>
            <div class="card animation mt-2 z-2">
                <div class="card-body m-3">
                    <div class="mb-3">
                        <img class="d-block object-fit-contain w-75" src="../../../../assets/images/plan-top-line.png">
                    </div>
                    <div>
                        <span class="cardTitle">Flexi</span>
                    </div>
                    <div class="fw-bold fs-5" style="font-size: 1.143rem;color: #190E01;"><span>Try us and get
                            satisied</span></div>
                    <div class="web-left mt-5" style="font-size: 1.071rem;color: #190E01;"><span>Discover our flexible
                            meal options with a no-commitment trial.
                            Enjoy a handpicked selection of dishes designed to fit your lifestyle.</span></div>
                    <div class="web-left" style="font-size: 1.071rem;color: #190E01;">
                        <ul class="p-3">
                            <li>No commitment</li>
                            <li>Order any day of the week</li>
                            <li>Available for orders UK wide</li>
                            <li>£8.90 per meal</li>
                            <li>10% Referal promo code</li>
                        </ul>
                    </div>
                    <div class="mb-3">
                        <img class="d-block object-fit-contain w-75"
                            src="../../../../assets/images/plan-bottom-line.png">
                    </div>
                    <div><span style="font-size: 1rem;font-weight: bold;">How many meals per day?</span></div>
                    <div class="d-flex justify-content-center">
                        <div *ngFor="let i of [2, 3, 4, 5]" class="m-1" style="width: 15%;">
                            <button class="btn btn-primary mt-2 fw-bold btn-planMeal"
                                [class.selectedButtonList]="selectedFlexiMealPerDayButton === i"
                                (click)="selectButton('flexiDay',i)">{{ i
                                }}</button>
                        </div>
                    </div>
                    <div class="mt-3"><span style="font-size: 1rem;font-weight: bold;">How many day per week?</span>
                    </div>
                    <div class="d-flex justify-content-center">
                        <div *ngFor="let i of [ 3, 5, 6]" class="m-1" style="width: 15%;">
                            <button class="btn btn-primary mt-2 fw-bold btn-planMeal"
                                [class.selectedButtonList]="selectedFlexiDayPerWeekButton === i"
                                (click)="selectButton('flexiWeek',i)"
                                [disabled]="selectedFlexiMealPerDayButton === 2 && i === 5">{{ i
                                }}</button>
                        </div>
                    </div>
                </div>
                <div class="mt-3 p-3" style="text-align: left;">
                    <span style="font-size: 0.714rem;color: #848790;">Promo code</span>
                    <div class="d-flex position-relative">
                        <input type="text" class="p-2 input-promo" placeholder="type here ..." />
                        <button class="btn mt-2 fw-bold btn-apply position-absolute end-0"
                            (mouseover)="applyFlexi = 'Connect with a professional'"
                            (mouseout)="applyFlexi = 'Apply'">{{applyFlexi}}
                        </button>
                    </div>
                    <p-divider></p-divider>
                    <div>
                        <span style="font-size: 1rem;">Deliveries Per Week</span>
                        <span style="float: right;font-size: 1rem;">{{ selectedFlexiDayPerWeekButton === 3 ? '01' : '02'
                            }}</span>
                    </div>
                    <p-divider></p-divider>
                    <div><i class="pi pi-angle-down mx-1 fs08"></i><span class="fw-bold" style="font-size: 1rem;">You
                            will pay</span><span class="fw-bold" style="float: right;font-size: 1rem;">£206.60</span>
                    </div>
                    <div class="web-center mt-3">
                        <button class="btn btn-primary mt-2 fw-bold btn-orderNow fm-prompt" style="font-size: 1.143rem;"
                            (click)="showChooseAlergies('flexi')">Order now
                            <i class="pi pi-arrow-right text-white fs08 arrow-icon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-3 position-relative" [class]="isDesktop ? 'col-md-4' : isTablet ? 'col-md-6' : ''"
            *ngIf="isDesktop || isTablet || (isMobile && selectedMasterTab === 'Commit')">
            <div class="z-2 position-absolute" style="margin-left: 5%;width: 35%;">
                <button class="btn btn-primary mt-2 btn-plan p-1 w-100" style="font-size: 1.143rem;">Recomended
                </button>
            </div>
            <div class="w-100 z-1" style="margin-bottom: -20%;">
                <img class="w-100" src="../../../../assets/images/commit-back-image.png" />
            </div>
            <div class="card animation mt-2 z-2">
                <div class="card-body m-3">
                    <div class="mb-3">
                        <img class="d-block object-fit-contain w-75" src="../../../../assets/images/plan-top-line.png">
                    </div>
                    <div>
                        <span class="cardTitle">Commit</span>
                    </div>
                    <div class="fw-bold fs-5" style="font-size: 1.143rem;"><span>Try us and get satisied</span></div>
                    <div class="web-left mt-5" style="font-size: 1.071rem;color: #190E01;"><span>Enjoy long-term savings
                            and flexibility</span></div>
                    <div class="web-left" style="font-size: 1.071rem;color: #190E01;">
                        <ul class="p-3">
                            <li>Significant discounts on orders</li>
                            <li>Flexible payment options</li>
                            <li>Customizable meal choices for your unique taste</li>
                        </ul>
                    </div>
                    <div class="mb-3">
                        <img class="d-block object-fit-contain w-75"
                            src="../../../../assets/images/plan-bottom-line.png">
                    </div>
                    <div><span style="font-size: 1.071rem;color: #190E01;font-weight: bold;">How many meals per
                            day?</span></div>
                    <div class="d-flex justify-content-center">
                        <div *ngFor="let i of [2, 3, 4, 5]" class="m-1" style="width: 15%;">
                            <button class="btn btn-primary mt-2 fw-bold btn-planMeal"
                                [class.selectedButtonList]="selectedCommitMealPerDayButton === i"
                                (click)="selectButton('commitDay',i)">{{ i
                                }}</button>
                        </div>
                    </div>
                    <div class="mt-3 fw-bold"><span style="font-size: 1.071rem;color: #190E01;">How many day per
                            week?</span></div>
                    <div class="d-flex justify-content-center">
                        <div *ngFor="let i of [ 3, 5, 6]" class="m-1" style="width: 15%;">
                            <button class="btn btn-primary mt-2 fw-bold btn-planMeal"
                                [class.selectedButtonList]="selectedCommitDayPerWeekButton === i"
                                (click)="selectButton('commitWeek',i)"
                                [disabled]="selectedCommitMealPerDayButton === 2 && i === 5">{{ i
                                }}</button>
                        </div>
                    </div>
                    <div class="mt-3"><span style="font-size: 1.071rem;color: #190E01;font-weight: bold;">How many
                            weeks?</span></div>
                    <div class="d-flex justify-content-center">
                        <div *ngFor="let i of [ ['4w', 'Save 10%'], ['8w','Save 15%'], ['12w','Save 20%']]" class="m-1"
                            style="width: 25%;">
                            <button class="btn btn-primary mt-2 fw-bold btn-planMeal"
                                [class.selectedButtonList]="selectedCommitWeeksButton === i[0]"
                                (click)="selectWeeksNumber(i[0])">{{ i[0]}}</button>
                            <span [class.selectedWeeksNum]="selectedCommitWeeksButton === i[0]"
                                style="font-size: 0.7rem;opacity: 0.4;">{{ i[1] }}</span>
                        </div>
                    </div>
                </div>
                <div class="mt-3 p-3" style="text-align: left;">
                    <span style="font-size: 0.714rem;color: #848790;">Promo code</span>
                    <div class="d-flex position-relative">
                        <input type="text" class="p-2 input-promo" placeholder="type here ..." />
                        <button class="btn mt-2 fw-bold m-auto btn-apply position-absolute end-0"
                            (mouseover)="applyCommit = 'Connect with a professional'"
                            (mouseout)="applyCommit = 'Apply'">{{applyCommit}}
                        </button>
                    </div>
                    <p-divider></p-divider>
                    <div><span>Deliveries Per Week</span>
                        <span style="float: right;">{{ selectedCommitDayPerWeekButton === 3 ? '01' : '02' }}</span>
                    </div>
                    <p-divider></p-divider>
                    <div><i class="pi pi-angle-down mx-1 fs08"></i><span class="fw-bold">You will pay</span><span
                            class="fw-bold" style="float: right;">£206.60</span></div>
                    <div class="web-center mt-3">
                        <button class="btn btn-primary mt-2 fw-bold btn-orderNow fm-prompt" style="font-size: 1.143rem;"
                            (click)="showChooseAlergies('commit')">Order now
                            <i class="pi pi-arrow-right text-white fs08 arrow-icon"></i>
                        </button>
                    </div>

                </div>
            </div>
        </div>
        <div class="mb-3 position-relative" [class]="isDesktop ? 'col-md-4' : isTablet ? 'col-md-6' : ''"
            *ngIf="isDesktop || isTablet || (isMobile && selectedMasterTab === 'Expert')">
            <div class="w-100 z-1" style="margin-bottom: -20%;">
                <img class="w-100" src="../../../../assets/images/custom-back-image.png" />
            </div>
            <div class="card animation mt-2 z-2">
                <div class="card-body m-3">
                    <div class="mb-3">
                        <img class="d-block object-fit-contain w-75" src="../../../../assets/images/plan-top-line.png">
                    </div>
                    <div>
                        <span class="cardTitle">Custom</span>
                    </div>
                    <div class="fw-bold fs-5" style="font-size: 1.143rem;"><span>Custom plan through our expert</span>
                    </div>
                    <div class="web-left mt-5" style="font-size: 1.071rem;color: #190E01;"><span>Get personalized,
                            one-on-one guidance to create a custom meal
                            plan.</span></div>
                    <div class="web-left mt-2"><span style="font-size: 1.071rem;color: #190E01;">Our experts provide
                            step-by-step support to meet your unique
                            wellness goals. Start your tailored health journey today!</span></div>
                    <div class="mt-5">
                        <button class="btn btn-primary mt-2 fw-bold btn-plan" style="font-size: 1.143rem;"
                            (click)="showOnnectToExpertPopUp()">Connect with
                            an expert
                        </button>
                    </div>
                    <div class="mb-3 mt-5">
                        <img class="d-block object-fit-contain w-75"
                            src="../../../../assets/images/plan-bottom-line.png">
                    </div>
                    <div><span style="font-size: 1rem;font-weight: 400;">Already connected?</span></div>
                    <div class="mt-1">
                        <button class="btn mt-2 fw-bold px-5 py-3 btn-select-guid">Select your guide
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<app-connect-expert (afterChangeExpert)="showMakeOwnDialog()" [status]="'add'"
    [(popupVisibility)]="connectExpertPopUpVisibility"></app-connect-expert>

<p-dialog header="Header" [(visible)]="addAlergiesPopupVisibility" [style]="{ width: '60%' }" (onHide)="onDialogHide()">
    <ng-template pTemplate="header">
        <div class="mt-4 align-items-center justify-content-center w-100 text-center">
            <span class="fm-prompt fw-bold" style="font-size: 1.429rem;color: #0F0F1F;">Do you have any
                allergies?</span>
            <br>
            <span>We will show only meals safe for you.</span>
        </div>
    </ng-template>
    <div class="mt-3 p-4">
        <button *ngFor="let alergy of alergies" class="btn btn-primary mt-2 fm-rubik mx-2 sport-buttons"
            (click)="alergy.selected = true" [style.background-color]="alergy.selected ? '#DFDFEF' : 'white'">
            <img src="../../../../assets/images/alergy.png" style="width: 24px;height: 24px;margin-right: 1rem;" alt="">
            {{alergy.sport}}
            <img *ngIf="alergy.selected" src="../../../../../assets/images/selectedSport.png"
                style="margin-left: 0.7rem;width: 21.5px;height: 21.5px;" alt="">
        </button>
        <div class="mt-4 p-2" style="text-align: center;">
            <button class="btn fm-prompt fw-bold btn-orderNow" style="width: 20%;color: white;"
                (click)="goToPlanDetail()">
                <span>Continue</span>
                <i class="pi pi-arrow-right text-white fs08 arrow-icon"></i>
            </button>
        </div>
    </div>
</p-dialog>

<p-dialog header="Header" [(visible)]="makeOwnMealPopupVisibility" [style]="{ width: '60%' }" (onHide)="onDialogHide()">
    <ng-template pTemplate="header">
        <div class="mt-4 align-items-center justify-content-center w-100 text-center">
            <span class="fm-prompt fw-bold" style="font-size: 1.429rem;color: #0F0F1F;">Make your own</span>
            <br>
            <span>add some textadd some textadd some textadd some text</span>
        </div>
    </ng-template>
    <p-divider></p-divider>
    <div class="mt-3 p-4">
        <div class="d-flex my-4 justify-content-center">
            <div class="mx-3 own-meal-label-container">
                <span class="mx-3 own-meal-label">Protein</span>
                <p-dropdown [options]="protein" optionLabel="value" [showClear]="true"
                    placeholder="Pick an option"></p-dropdown>
            </div>
            <div class="mx-3">
                <span class="mx-3">Amount</span>
                <p-dropdown [options]="amount" optionLabel="value" [showClear]="true"></p-dropdown>
                <span class="mx-2">Grams</span>
            </div>
        </div>
        <div class="d-flex my-4 justify-content-center">
            <div class="mx-3 own-meal-label-container">
                <span class="mx-3 own-meal-label">Carbs</span>
                <p-dropdown [options]="carbs" optionLabel="value" [showClear]="true"
                    placeholder="Pick an option"></p-dropdown>
            </div>
            <div class="mx-3">
                <span class="mx-3">Amount</span>
                <p-dropdown [options]="amount" optionLabel="value" [showClear]="true"></p-dropdown>
                <span class="mx-2">Grams</span>
            </div>
        </div>
        <div class="d-flex my-4 justify-content-center">
            <div class="mx-3 own-meal-label-container">
                <span class="mx-3 own-meal-label">Veg</span>
                <p-dropdown [options]="veg" optionLabel="value" [showClear]="true"
                    placeholder="Pick an option"></p-dropdown>
            </div>
            <div class="mx-3">
                <span class="mx-3">Amount</span>
                <p-dropdown [options]="amount" optionLabel="value" [showClear]="true"></p-dropdown>
                <span class="mx-2">Grams</span>
            </div>
        </div>
        <p-divider></p-divider>
        <div class="d-flex mt-2 fm-rubik">
            <div class="plan-detail-margin">
                <span>Energy:</span>
                <br />
                <span style="font-weight: bold;">220 Kcal</span>
            </div>
            <div class="plan-detail-margin">
                <span>Protein:</span>
                <br />
                <span style="font-weight: bold;">4.3 gr</span>
            </div>
            <div class="plan-detail-margin">
                <span>Carbs:</span>
                <br />
                <span style="font-weight: bold;">8.2 gr</span>
            </div>
            <div class="plan-detail-margin">
                <span>Sugar:</span>
                <br />
                <span style="font-weight: bold;">8.2 gr</span>
            </div>
            <div class="plan-detail-margin">
                <span>Fats:</span>
                <br />
                <span style="font-weight: bold;">8.2 gr</span>
            </div>
            <div class="plan-detail-margin">
                <span>Salts:</span>
                <br />
                <span style="font-weight: bold;">8.2 gr</span>
            </div>
        </div>
        <p-divider></p-divider>
        <div>
            <span class="fm-prompt fw-bold" style="font-size: 1.143rem;color: #0F0F1F;">Choose from the Master plan</span>
            <button class="btn fm-prompt fw-bold btn-orderNow" style="color: white;float: right;"
                (click)="goToPlanDetail()">
                <span>Confirm and add</span>
            </button>
        </div>
    </div>

</p-dialog>

<!-- <div class="mt-4 p-2" style="text-align: center;">
    <button class="btn fm-prompt fw-bold btn-orderNow" style="width: 20%;color: white;"
        (click)="goToPlanDetail()">
        <span>Continue</span>
        <i class="pi pi-arrow-right text-white fs08 arrow-icon"></i>
    </button>
</div> -->